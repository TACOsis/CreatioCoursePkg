(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[63682,73308,50927,28546,6165,62832,40451,18070,95689,94260,71879,41421,63802,86183,8564,30945,53326,75707,98088,20469,42850,70422,48041,15184,92803,80898,58517,25660,3279,91374,68993,83231,5612,38469,60850],{63682:(W,U,e)=>{var h=e(71252),_=e(21533),s=e(38495),v=e(95894),E=e(73308),r=e(5960),c=e(40297),d=e(63721),n=e(59131),m=e(48059),l=e(79772),N=e(57229),g=e(96590),K=e(33e3),M=e(85638),G=e(28034),x=e(72498),V=e(98970),H=e(64436),O=e(26546),S=e(16358),u=e(47550),j=e(45338),B=e(50456),Z=e(20822),R=e(10534),i=e(21018),P=e(10850),C=e(23958),y=e(62278),z=e(36486);let D=class extends s.BaseRequestHandler{constructor(t){super(),this._maskService=t,this._tasks=new Set}_addTask(t){this._tasks.add(t),this._tasks.size===1&&this._maskService.showBodyMask()}_removeTask(t){this._tasks.delete(t),this._tasks.size===0&&this._maskService.hideBodyMask()}handle(t){var o=this;return(0,E.A)(function*(){t.action===s.SchemaViewMaskRequestAction.AddTask?o._addTask(t.taskName):o._removeTask(t.taskName)})()}};D=(0,r.__decorate)([(0,s.CrtRequestHandler)({requestType:"crt.SchemaViewMaskRequest",type:"crt.SchemaViewMaskRequestHandler"}),(0,r.__param)(0,(0,s.CrtInject)(i.DEVKIT_MASK_SERVICE)),(0,r.__metadata)("design:paramtypes",[s.MaskService])],D);let L=class extends s.BaseRequestHandler{constructor(t){super(),this._schemaModalService=t}handle(t){return this?._schemaModalService.closeModals(),this.next?.handle(t)}};L=(0,r.__decorate)([(0,s.CrtRequestHandler)({requestType:"crt.HandleViewModelDestroyRequest",type:"crt.SchemaModalNavigationRequestHandler"}),(0,r.__metadata)("design:paramtypes",[u.SchemaModalService])],L);class I{constructor(t){this._window=t}wait(t){const o=this._window.Terrasoft?.Router;return o?.enableBuffering?o.enableBuffering(t):t()}static{this.\u0275fac=function(o){return new(o||I)(n.\u0275\u0275inject(g.WINDOW_TOKEN))}}static{this.\u0275prov=n.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac})}}class f extends C.CrtNavigationService{constructor(t){super(),this.injector=t}subscribeForNavigationEndEvent(){return y.Subscription.EMPTY}subscribeForNavigationPopStateEvent(){return y.Subscription.EMPTY}navigate(){throw new Error("Navigation with this service is not implemented in schema-view")}static{this.\u0275fac=function(o){return new(o||f)(n.\u0275\u0275inject(n.Injector))}}static{this.\u0275prov=n.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}}var F;function Y(a,t){return(0,E.A)(function*(){yield(0,y.lastValueFrom)(a.loadCurrentUserInfo().pipe((0,z.switchMap)(o=>t.use(o?.userInfo?.cultureInfo?.sysCultureName).pipe((0,z.catchError)(()=>(0,y.of)(null))))),{defaultValue:null})})}let T=class w{static{F=this}constructor(t,o,A){this._customElementsBootstrapService=t,this._injector=o,this._crtInjectionContextService=A,this._obsoleteProcessExecutionDataCollectorService=this._injector.get(S.ObsoleteProcessExecutionDataCollectorService)}_defineBaseViewModuleElement(t,o){this._customElementsBootstrapService.defineComponent(t,o);const A=n.Injector.create({parent:this._injector,providers:[...u.NAVIGATION_PREPROCESSOR_PROVIDERS,{provide:i.CRT_NAVIGATION_LOCK_TOKEN,useClass:I}]});this._customElementsBootstrapService.defineComponent(`${t}-navigation`,o,A)}ngDoBootstrap(){const t=this._injector.get(i.FEATURE_VALUES);(0,s.bootstrapCrtModule)(F,{moduleType:"host",featureValues:t,resolveDependency:(p,k)=>k?.id?this._crtInjectionContextService.injectFromContext(k.id,p):this._injector.get(p),onContextCreate:p=>p.connectHostLazyModules(),onContextUpdate:p=>p.connectHostLazyModules(),onContextDestroy:p=>p.destroy()}),this._obsoleteProcessExecutionDataCollectorService.init();const o=Z.CrtTabPanelContainerComponent,A=(0,s.getViewElementMetadata)(o);(0,s.registerAngularViewElement)(A,o),this._defineBaseViewModuleElement("crt-home-page-component",u.HomePageComponent),this._defineBaseViewModuleElement("crt-card-component",u.CardComponent),this._defineBaseViewModuleElement("crt-section-component",u.SectionComponent),this._defineBaseViewModuleElement("crt-page-component",u.PageComponent),this._customElementsBootstrapService.defineComponent("crt-chart-widget-component",R.CrtChartWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-indicator-widget-component",R.CrtIndicatorWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-gauge-widget-component",R.GaugeWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-funnel-widget-component",R.CrtFunnelWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-full-pipeline-widget-component",R.FullPipelineWidgetComponent)}static{this.\u0275fac=function(o){return new(o||w)(n.\u0275\u0275inject(g.CustomElementsBootstrapService),n.\u0275\u0275inject(n.Injector),n.\u0275\u0275inject(i.CrtInjectionContextsService))}}static{this.\u0275mod=n.\u0275\u0275defineNgModule({type:w})}static{this.\u0275inj=n.\u0275\u0275defineInjector({providers:[{provide:c.APP_BASE_HREF,useValue:"/"},{provide:d.HTTP_INTERCEPTORS,useFactory:t=>new i.SspUrlPrefixInterceptor(t),deps:[i.UserInfoService],multi:!0},{provide:d.HTTP_INTERCEPTORS,useClass:i.WebComponentHttpInterceptor,multi:!0},{provide:n.APP_INITIALIZER,useFactory:Y,deps:[i.UserInfoService,l.TranslateService],multi:!0},M.REMOTE_ENTRY_PROVIDER,{provide:i.DEFAULT_THEME,useValue:i.THEMES.DEFAULT},{provide:i.AbstractThemeProvider,useClass:M.ThemeProvider},(0,i.PROVIDE_THEMING_ICONS_RESOLVER_APP_INITIALIZER)("ClientApp/assets/themes"),M.FEATURE_VALUES_APP_INITIALIZER_PROVIDER,M.FEATURE_VALUES_PROVIDER,{provide:C.CrtNavigationService,useClass:f},{provide:C.SHELL_MODULE_ALIASES_FACTORY,useValue:()=>Promise.resolve(!1)},s.SysSettingsService,S.EXECUTION_DATA_INTERCEPTOR_PROVIDER,S.ObsoleteProcessExecutionDataCollectorService,{provide:P.CRT_METADATA_NAVIGATION_PREPROCESSOR,useClass:S.ExecutionDataPreprocessor,multi:!0},{provide:P.AbstractModelLifecycleHookNotificationService,useClass:P.HandlerChainModelLifecycleHookNotificationService},M.LICENSE_RESTRICTION_OPERATION_VALUES_APP_INITIALIZER_PROVIDER,M.LICENSE_RESTRICTION_OPERATION_VALUES_PROVIDER,g.CURRENT_TAB_ID_PROVIDER,g.TAB_ID_APP_INITIALIZER],imports:[m.BrowserAnimationsModule,h.BrowserModule,c.CommonModule,B.CdkModule,G.ComponentsPreprocessorsModule,u.SchemaViewModule,d.HttpClientModule,d.HttpClientXsrfModule.withOptions({cookieName:"BPMCSRF",headerName:"BPMCSRF"}),l.TranslateModule.forRoot({defaultLanguage:"en-US",loader:{provide:l.TranslateLoader,useFactory:(t,o)=>new N.TranslateHttpLoader(t,o+"ClientApp/assets/i18n/"),deps:[d.HttpClient,c.APP_BASE_HREF]}}),C.CrtNavigationModule,x.MarketingCampaignModule,V.MarketingEmailModule,H.MarketingEngagementToolsModule,O.MarketingEventModule,j.TechnicalUserModule]})}};T=F=(0,r.__decorate)([(0,s.CrtModule)({includes:[K.AcademyHelpApiModule,u.SchemaViewModule,B.CdkModule,{load:()=>e.e(12189).then(e.t.bind(e,12189,23)).then(a=>a.SsoSettingsModule),...window.creatio._lazyModulesMetadata.host.SsoSettingsModule},C.CrtNavigationModule,{load:()=>e.e(20346).then(e.t.bind(e,20346,23)).then(a=>a.RelationshipDesignerModule),...window.creatio._lazyModulesMetadata.host.RelationshipDesignerModule},{load:()=>e.e(90549).then(e.t.bind(e,90549,23)).then(a=>a.DigitalAdsModule),...window.creatio._lazyModulesMetadata.host.DigitalAdsModule},{load:()=>e.e(11727).then(e.t.bind(e,11727,23)).then(a=>a.GoogleAnalyticsModule),...window.creatio._lazyModulesMetadata.host.GoogleAnalyticsModule},{load:()=>e.e(11114).then(e.t.bind(e,11114,23)).then(a=>a.CopilotModule),...window.creatio._lazyModulesMetadata.host.CopilotModule},x.MarketingCampaignModule,V.MarketingEmailModule,H.MarketingEngagementToolsModule,O.MarketingEventModule,j.TechnicalUserModule],requestHandlers:[D,P.ClearContextedHandlersCacheHandler,L,M.GetApiKeyRequestHandler,i.CopyClipboardRequestHandler,S.CompleteProcessElementHandler]}),(0,r.__metadata)("design:paramtypes",[g.CustomElementsBootstrapService,n.Injector,i.CrtInjectionContextsService])],T),function(){(typeof ngJitMode>"u"||ngJitMode)&&n.\u0275\u0275setNgModuleScope(T,{imports:[m.BrowserAnimationsModule,h.BrowserModule,c.CommonModule,B.CdkModule,G.ComponentsPreprocessorsModule,u.SchemaViewModule,d.HttpClientModule,d.HttpClientXsrfModule,l.TranslateModule,C.CrtNavigationModule,x.MarketingCampaignModule,V.MarketingEmailModule,H.MarketingEngagementToolsModule,O.MarketingEventModule,j.TechnicalUserModule]})}(),(0,v.getGlobalRemoteEntryLoader)()||(0,v.createGlobalRemoteEntryLoader)({initSharing:e.I,shareScopes:e.S}),(0,s.bootstrapCrtModuleHandlerChainServices)(T),h.platformBrowser().bootstrapModule(T).catch(a=>console.error(a))},73308:(W,U,e)=>{e.d(U,{A:()=>_});function h(s,v,E,r,c,d,n){try{var m=s[d](n),l=m.value}catch(N){E(N);return}m.done?v(l):Promise.resolve(l).then(r,c)}function _(s){return function(){var v=this,E=arguments;return new Promise(function(r,c){var d=s.apply(v,E);function n(l){h(d,r,c,n,m,"next",l)}function m(l){h(d,r,c,n,m,"throw",l)}n(void 0)})}}}}]);
